<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">

<link rel="import" href="../ck-quotepage/ck-quotepage.html">

<!--<link rel="import" href="../../bower_components/polymer/lib/elements/dom-if.html">-->
<!--<link rel="import" href="../../bower_components/polymer/lib/elements/dom-repeat.html">-->

<dom-module id="quote_center-app">
  <template>
    <style>
      :host {
        font: 1.1em Courier, sans-serif;
        text-shadow: -1px 0 1px #d6d5d5, -2px 0 0 #eaeaea;
        line-height: 1.5em;
        color: #505050;
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;
        cursor: default;

        --paper-tabs-content: {
          background: var(--google-grey-100);
          color: var(--paper-indigo-a200);
        }

        --paper-tabs-selection-bar-color: var(--google-green-500);
        width: 50%;
      }


      @media (max-width: 1024px) {
        :host {
          width: 100%;
        }
      }

    </style>

    <header>
      <paper-tabs selected={{selected}} noink>
        <template is="dom-repeat" items="{{pages}}">
          <paper-tab>{{item.tabName}}</paper-tab>
        </template>
      </paper-tabs>
    </header>

    <iron-pages selected="{{selected}}">
      <template is="dom-repeat" items="{{pages}}">
        <ck-quotepage
          app-storage-key="{{storageKey(item.storageKey)}}"
          data-url="{{dataUrl(item.dataUrl)}}"
        ></ck-quotepage>
      </template>
    </iron-pages>

    <footer>
      Jim Rohn quotes from
      <a href="https://favqs.com/api">favqs</a>
    </footer>

  </template>

  <script>
    /** @polymerElement */
    class Quote_centerApp extends Polymer.Element {
      static get is() { return 'quote_center-app'; }
      static get properties() {
        return {
          pages: {
            type: Array,
            value: [
              {
                tabName: "JimRohn",
                storageKey: "JimRohn",
                dataUrl: "JimRohn.json"
              },
              {
                tabName: "JimRohn Custom",
                storageKey: "JimRohn Custom",
                dataUrl: "bestlife.json"
              },
            ]
          },

          selected: {
            type: Number,
            value: 0
          }
        };
      }

      dataUrl(url) {
        return "/data/" + url;
      }

      storageKey(storageKey) {
        var prefix = "cara-iu-vau";
        var sanitizeStorageKey = storageKey.replace(/\s/, '');
        return prefix + "-" + sanitizeStorageKey;
      }
    }

    window.customElements.define(Quote_centerApp.is, Quote_centerApp);
  </script>
</dom-module>
